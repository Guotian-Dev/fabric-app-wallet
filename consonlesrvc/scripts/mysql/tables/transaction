CREATE TABLE transaction (
    rowid BIGINT NOT NULL AUTO_INCREMENT,
    txuuid VARCHAR(36) COMMENT 'transaction uuid',
    payeruuid VARCHAR(36) REFERENCES user (useruuid) MATCH FULL,
    payeeuuid VARCHAR(36) REFERENCES user (useruuid) MATCH FULL,
    amount BIGINT,
    bc_txuuid VARCHAR(36) COMMENT 'blockchain transaction uuid for invoking chaincode function',
    bc_blocknum BIGINT COMMENT 'the block number in the blockchain as a result of invoking chaincode function',
    status VARCHAR(20),
    insertedAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updatedAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    PRIMARY KEY (rowid),
    UNIQUE KEY (txuuid),
    INDEX payer_index USING BTREE (payeruuid),
    INDEX payee_index USING BTREE (payeeuuid)
    );
